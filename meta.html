<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="x-ua-compatible" content="IE=edge">

        <title>Koselig - Wordpress backend for a Laravel frontend</title>
        <meta name="description"
              content="Koselig is a Laravel library providing a fluent Wordpress integration whilst following Laravel's beautiful syntax.">

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.1/themes/prism.min.css">
        <link rel="stylesheet" href="https://koselig.co/public/css/app.css">
    </head>

    <body class="">
        <header class="navbar navbar-fixed-top">
            <div class="container">
                <nav>
                    <div>
                        <button class="navbar-toggler pull-xs-right hidden-sm-up" type="button" data-toggle="collapse"
                                data-target="#bd-main-nav" aria-controls="bd-main-nav" aria-expanded="false"
                                aria-label="Toggle navigation">
                            â˜°
                        </button>

                        <a class="navbar-brand" href="/">
                            Koselig
                        </a>
                    </div>

                    <div class="collapse navbar-toggleable-xs pull-sm-right" id="bd-main-nav">
                        <ul class="nav navbar-nav">
                            <li class="nav-item"><a href="https://koselig.co/getting-started.html">Getting started</a></li>
                            <li class="nav-item">
                                <a class="github" href="https://github.com/koselig/koselig">
                                    <i class="fa fa-github"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
        </header>

        <main class="">
                <div class="container documentation">
        <div class="sidebar">
            <ul>
                                    <li>
                        <span class="section-title">Introduction</span>

                        <ul>
                                                            <li class="">
                                    <a href="https://koselig.co/getting-started.html">
                                        Getting started
                                    </a>
                                </li>
                                                    </ul>
                    </li>
                                    <li>
                        <span class="section-title">Components</span>

                        <ul>
                                                            <li class="">
                                    <a href="https://koselig.co/routing.html">
                                        Routing
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="https://koselig.co/auth-guard.html">
                                        Authentication guard
                                    </a>
                                </li>
                                                            <li class="">
                                    <a href="https://koselig.co/filters.html">
                                        Filters
                                    </a>
                                </li>
                                                            <li class="active">
                                    <a href="https://koselig.co/meta.html">
                                        Meta
                                    </a>
                                </li>
                                                    </ul>
                    </li>
                            </ul>
        </div>

        <article>
            <div class="pull-xs-right hidden-sm-down edit-gh">
                <a href="https://github.com/koselig/documentation/blob/master/meta.md" class="btn btn-secondary btn-sm">
                    Edit this page on GitHub
                </a>
            </div>

            <h1 id="meta">Meta</h1>
<p>Koselig provides various different ways to grab meta values. Everything is cached on first fetch to ensure speed throughout the request. This replaces <code>get_post_meta</code> and <code>get_field</code> and so deprecates them.</p>
<h3 id="using-the-meta-model">Using the Meta model</h3>
<p>To get simple meta values from the current page, you can use the <code>get</code> method on the <code>Meta</code> model.</p>
<pre><code class="language-php">Meta::get('_wp_page_template');</code></pre>
<p><code>Meta</code> is flexible in that you can also provide a page to get the meta value from, this can either be a Post model or an id of a post. Pass nothing as the key if you'd like to get all meta values or pass an array if you'd like to get more than one value.</p>
<pre><code class="language-php">Meta::get(Post::where('title', 'Test')-&gt;first(), '_wp_page_template');

Meta::get(['_wp_page_template', '_wp_attached_file']);</code></pre>
<p>Koselig also supports <a href="https://www.advancedcustomfields.com/">Advanced Custom Fields</a> values. To get these, use the <code>acf</code> method on the <code>Meta</code> model.</p>
<pre><code class="language-php">Meta::acf('test');</code></pre>
<p>Like <code>get</code>, you can pass a Post model, id of a post or nothing as the first parameter if you'd like to get values from another post other than the current one.</p>
<h3 id="using-a-post-model">Using a Post model</h3>
<p>If you have an instance of <code>Post</code> you'd like to get meta values from, there are methods in that model you can use to do that. You can use <code>getMeta</code> to get simple meta values. Like the above, you can pass a string, an array or nothing to the method to get one, some or all values respectively.</p>
<pre><code class="language-php">Route::template('home', function (Post $post) {
    echo $post-&gt;getMeta('_wp_page_template');
})</code></pre>
<p><code>Post</code> models, like the <code>Meta</code> model, also supports Advaned Custom Fields values. You can get these using <code>getACF</code> with the same parameters as <code>getMeta</code>.</p>
<div class="alert alert-info" role="alert"><strong>Heads up!</strong> It is worth noting that <code>getACF</code> will strip non-ACF fields from the returned value.</div>
<pre><code class="language-php">Route::template('home', function (Post $post) {
    echo $post-&gt;getACF('test');
});</code></pre>
        </article>
    </div>
        </main>

        <script src="https://koselig.co/public/js/app.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.1/prism.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.1/components/prism-bash.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.1/components/prism-php.min.js"></script>

        <script>
            $(function () {
                // Add anchors to headers
                $('article h2, article h3, article h4, article h5').each(function () {
                    var url = document.URL.replace(/#.*$/, "") + '#' + $(this).attr('id');
                    $(this).append(' <a class="anchor" href="' + url + '">#</a>');
                });
            });
        </script>
    </body>
</html>
